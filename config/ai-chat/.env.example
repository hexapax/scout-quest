# ============================================
# AI Chat — LibreChat Environment Variables
# ============================================
# Full-access instance at ai-chat.hexapax.com
#
# SECRET STORAGE: This file lives in GCS, NOT in git.
#   Copy .env.example → .env, fill in secrets, then:
#     ./deploy-config.sh push     Upload .env files to GCS
#     ./deploy-config.sh pull     Download .env files from GCS
#     ./deploy-config.sh <IP>     Deploy to VM (pulls .env from GCS)
#
# INSTRUCTIONS:
# 1. Fill in all values marked with <FILL_IN>
# 2. Security keys marked <GENERATE> will be auto-filled by deploy-config.sh
# 3. API keys: get from each provider's console

# =================================
# Server
# =================================
HOST=0.0.0.0
PORT=3080
DOMAIN_CLIENT=https://ai-chat.hexapax.com
DOMAIN_SERVER=https://ai-chat.hexapax.com
NO_INDEX=true

# =================================
# Authentication
# =================================
# First user to register becomes admin.
# Set to false AFTER you've registered.
ALLOW_REGISTRATION=true
ALLOW_SOCIAL_LOGIN=true
ALLOW_PASSWORD_RESET=true
ALLOW_UNVERIFIED_EMAIL_LOGIN=true
ALLOW_PASSWORD_SIGN_UP=false
# SECURITY: Password sign-up is disabled. All users must sign in via Google OAuth.
# Only emails added as test users in the GCP OAuth consent screen can access the app.

# Session length (milliseconds) — 7 days
SESSION_EXPIRY=604800000

# --- Google OAuth ---
# Get these from: https://console.cloud.google.com/apis/credentials
# 1. Create OAuth 2.0 Client ID (Web application)
# 2. Authorized JS origins: https://ai-chat.hexapax.com
# 3. Authorized redirect URI: https://ai-chat.hexapax.com/oauth/google/callback
# 4. OAuth consent screen must be in "Testing" mode
# 5. Add your email as a test user in the consent screen settings
GOOGLE_CLIENT_ID=<FILL_IN>
GOOGLE_CLIENT_SECRET=<FILL_IN>
GOOGLE_CALLBACK_URL=/oauth/google/callback

# Social login buttons shown on login page
SOCIAL_LOGIN_PROVIDERS=google

# =================================
# Security Keys (auto-generated by deploy-config.sh)
# =================================
CREDS_IV=<GENERATE>
CREDS_KEY=<GENERATE>
JWT_SECRET=<GENERATE>
JWT_REFRESH_SECRET=<GENERATE>

# =================================
# Database
# =================================
MONGO_URI=mongodb://mongodb:27017/LibreChat

# =================================
# AI Provider API Keys
# =================================
# Anthropic
# Get from: https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY=<FILL_IN>

# OpenAI (for GPT models + voice STT/TTS)
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=<FILL_IN>

# Google Gemini (optional)
# Get from: https://aistudio.google.com/apikey
# GOOGLE_KEY=

# DeepSeek (optional — very cheap, strong reasoning)
# Get from: https://platform.deepseek.com/api_keys
DEEPSEEK_API_KEY=<FILL_IN_OR_LEAVE>

# OpenRouter (optional — gateway to dozens of open models)
# Get from: https://openrouter.ai/keys
OPENROUTER_KEY=<FILL_IN_OR_LEAVE>

# =================================
# Speech (STT/TTS)
# =================================
STT_API_KEY=${OPENAI_API_KEY}
TTS_API_KEY=${OPENAI_API_KEY}

# =================================
# Email (for password reset and notifications)
# =================================
EMAIL_SERVICE=gmail
EMAIL_USERNAME=<FILL_IN>
EMAIL_PASSWORD=<FILL_IN>
EMAIL_FROM=<FILL_IN>
EMAIL_FROM_NAME=AI Chat

# =================================
# Search (optional — enables web search in chat)
# =================================
# Get from: https://serper.dev (free tier: 2500 searches)
# SEARCH_PROVIDER=serper
# SERPER_API_KEY=

# =================================
# Logging
# =================================
DEBUG_LOGGING=true
